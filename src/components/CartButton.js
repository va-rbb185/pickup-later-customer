import React from 'react';
import { withRouter } from 'react-router-dom';

class CardButton extends React.Component {
    constructor(props) {
        super(props);
        this.isCartPage = this.props.location.pathname === '/cart';
        this.onCardButtonClick = this.onCardButtonClick.bind(this);
    }

    onCardButtonClick() {
        if (!this.isCartPage) {
            this.props.history.push('/cart');
        }
    }

    render() {
        return (
            <div
                className="card-button"
                onClick={this.onCardButtonClick}
            >
                <button className="ui circular button cart-float-button">
                    <div className="cart-float-button-icon">
                        <svg width="36" height="29" viewBox="0 0 36 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.4952 23.7865C11.9708 23.7865 10.7256 24.9585 10.7256 26.3932C10.7256 27.828 11.9708 29 13.4952 29C15.0197 29 16.2649 27.828 16.2649 26.3932C16.2649 24.9585 15.0197 23.7865 13.4952 23.7865ZM13.4952 28.0056C12.5519 28.0056 11.7821 27.2811 11.7821 26.3932C11.7821 25.5054 12.5519 24.7809 13.4952 24.7809C14.4386 24.7809 15.2084 25.5054 15.2084 26.3932C15.2084 27.2811 14.4386 28.0056 13.4952 28.0056Z" fill="white"></path><path d="M29.1359 23.7865C27.6114 23.7865 26.3662 24.9585 26.3662 26.3932C26.3662 27.828 27.6114 29 29.1359 29C30.6603 29 31.9055 27.828 31.9055 26.3932C31.9055 24.9585 30.6603 23.7865 29.1359 23.7865ZM29.1359 28.0056C28.1925 28.0056 27.4228 27.2811 27.4228 26.3932C27.4228 25.5054 28.1925 24.7809 29.1359 24.7809C30.0792 24.7809 30.849 25.5054 30.849 26.3932C30.849 27.2811 30.0792 28.0056 29.1359 28.0056Z" fill="white"></path><path d="M35.7928 5.44659C35.8591 5.23169 35.778 4.98715 35.5789 4.85376C35.4904 4.79448 35.3945 4.77225 35.2912 4.77225H28.6308H13.8791C13.8791 4.77225 13.8791 4.77225 13.8717 4.77225H7.87515C7.69075 4.77225 7.52111 4.65368 7.45472 4.47584L6.31884 1.25234C6.05331 0.503902 5.34523 0 4.55601 0H1.16312C0.882835 0 0.632056 0.222309 0.62468 0.503901C0.617304 0.800314 0.853332 1.03745 1.14099 1.03745H4.55601C4.91005 1.03745 5.22721 1.25976 5.34523 1.60063L6.70239 5.454L10.7591 18.7852C10.7591 18.7926 10.7665 18.8 10.7665 18.8074L11.8729 22.4385C11.9392 22.6534 12.1384 22.809 12.367 22.809H30.3273C30.6075 22.809 30.8583 22.5867 30.8657 22.3051C30.8731 22.0087 30.637 21.7715 30.3494 21.7715H13.0751C12.8834 21.7715 12.7063 21.6456 12.6547 21.4603L12.131 19.7485C12.0425 19.4595 12.2564 19.1705 12.5514 19.1705H16.6745H25.8059H31.2271C31.4558 19.1705 31.6549 19.0223 31.7213 18.8L33.8234 11.8936C33.8234 11.8936 33.8234 11.8936 33.8234 11.8862L35.7928 5.44659ZM21.8745 17.681V12.7013C21.8745 12.4568 22.0737 12.2567 22.3171 12.2567H26.0788C26.359 12.2567 26.5729 12.516 26.5139 12.7902L25.4666 17.77C25.4223 17.9775 25.2453 18.1257 25.0314 18.1257H22.3171C22.0737 18.1257 21.8745 17.9256 21.8745 17.681ZM17.0286 17.77L15.9738 12.7902C15.9148 12.516 16.1287 12.2567 16.409 12.2567H20.3994C20.6428 12.2567 20.8419 12.4568 20.8419 12.7013V17.681C20.8419 17.9256 20.6428 18.1257 20.3994 18.1257H17.4564C17.2499 18.1257 17.0655 17.9775 17.0286 17.77ZM22.3171 5.8097H27.4359C27.7162 5.8097 27.9301 6.06906 27.8711 6.34324L26.9196 10.8561C26.8754 11.0636 26.6983 11.2118 26.4844 11.2118H22.3171C22.0737 11.2118 21.8745 11.0117 21.8745 10.7672V6.25431C21.8745 6.00977 22.0737 5.8097 22.3171 5.8097ZM20.3994 11.2118H16.0033C15.7968 11.2118 15.6124 11.0636 15.5682 10.8561L14.6167 6.34324C14.5577 6.06906 14.7716 5.8097 15.0519 5.8097H20.3994C20.6428 5.8097 20.8419 6.00977 20.8419 6.25431V10.7672C20.8419 11.0117 20.6428 11.2118 20.3994 11.2118ZM32.6285 11.2118H28.4464C28.1661 11.2118 27.9522 10.9525 28.0112 10.6783L28.9627 6.16539C29.007 5.9579 29.184 5.8097 29.3979 5.8097H34.0004C34.2955 5.8097 34.5094 6.0987 34.4209 6.3877L33.0489 10.9006C32.9973 11.0858 32.8203 11.2118 32.6285 11.2118ZM13.5251 6.16539L14.4765 10.6783C14.5355 10.9525 14.3216 11.2118 14.0414 11.2118H9.85925C9.66748 11.2118 9.49046 11.0858 9.43883 10.9006L8.06692 6.3877C7.97841 6.0987 8.19231 5.8097 8.48734 5.8097H13.0973C13.3038 5.8097 13.4882 5.9579 13.5251 6.16539ZM11.5409 17.807L10.0215 12.8273C9.93301 12.5383 10.1469 12.2493 10.4419 12.2493H14.4397C14.6462 12.2493 14.8306 12.3975 14.8748 12.605L15.9222 17.5847C15.9812 17.8589 15.7673 18.1182 15.487 18.1182H11.954C11.7696 18.1257 11.6 17.9997 11.5409 17.807ZM30.5264 18.1257H26.9934C26.7131 18.1257 26.4992 17.8663 26.5582 17.5921L27.6056 12.6124C27.6498 12.4049 27.8268 12.2567 28.0407 12.2567H32.0385C32.3335 12.2567 32.5474 12.5457 32.4589 12.8347L30.9468 17.807C30.8878 17.9997 30.7182 18.1257 30.5264 18.1257Z" fill="white"></path><path d="M13.6578 27.045C14.0177 27.045 14.3095 26.7532 14.3095 26.3933C14.3095 26.0334 14.0177 25.7416 13.6578 25.7416C13.2979 25.7416 13.0061 26.0334 13.0061 26.3933C13.0061 26.7532 13.2979 27.045 13.6578 27.045Z" fill="white"></path><path d="M29.1355 27.045C29.4054 27.045 29.6243 26.7532 29.6243 26.3933C29.6243 26.0334 29.4054 25.7416 29.1355 25.7416C28.8656 25.7416 28.6467 26.0334 28.6467 26.3933C28.6467 26.7532 28.8656 27.045 29.1355 27.045Z" fill="white">
                            </path>
                        </svg>
                    </div>
                    <span>0</span>
                </button>
            </div>
        );
    }
}

export default withRouter(CardButton);
